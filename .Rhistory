setwd("~/Documents/GitHub/AD_4-2017-Seattle-911-Data")
save.image("~/Documents/GitHub/AD_4-2017-Seattle-911-Data/Untitled.RData")
data.2017 <-read.csv("./2017_Seattle_911.csv", stringsAsFactors = FALSE)
data.2017$Event.Clearance.Date <-as.POSIXct(data.2017$Event.Clearance.Date)
data.2017$Event.Clearance.Group <- sapply(data.2017$Event.Clearance.Group, ChangeCase)
month <-paste0("2017-", month, "-01")
jan <- filter(data.2017, Event.Clearance.Date >= as.Date(month[1]) & Event.Clearance.Date < as.Date(month[2]))
feb <- filter(data.2017, Event.Clearance.Date >= month[2] & Event.Clearance.Date < month[3])
data.2017$Event.Clearance.Group <- sapply(data.2017$Event.Clearance.Group, changeCase)
data.2017$Event.Clearance.Date <-as.POSIXct(data.2017$Event.Clearance.Date)
data.2017$Event.Clearance.Group <- sapply(data.2017$Event.Clearance.Group, ChangeCase)
month <-paste0("2017-", month, "-01")
jan <- filter(data.2017, Event.Clearance.Date >= as.Date(month[1]) & Event.Clearance.Date < as.Date(month[2]))
feb <- filter(data.2017, Event.Clearance.Date >= month[2] & Event.Clearance.Date < month[3])
data.2017$Event.Clearance.Group <- sapply(data.2017$Event.Clearance.Group, changeCase)
by.types <- split(data.2017, data.2017$Event.Clearance.Group)
by.types <- by.types[order(sapply(by.types,nrow),decreasing=T)]
jan <- filter(data.2017, Event.Clearance.Date >= month[1] & Event.Clearance.Date < month[2])
feb <- filter(data.2017, Event.Clearance.Date >= month[2] & Event.Clearance.Date < month[3])
ChangeCase <- function(x) {
paste0(substring(x,1,1), tolower(substring(x, 2)))
}
View(data.2017)
data.2017$Event.Clearance.Date <-as.POSIXct(data.2017$Event.Clearance.Date)
data.2017$Event.Clearance.Group <- sapply(data.2017$Event.Clearance.Group, ChangeCase)
month <-paste0("2017-", month, "-01")
m <- 1:12
month <-paste0("2017-", m, "-01")
jan <- filter(data.2017, Event.Clearance.Date >= as.Date(month[1]) & Event.Clearance.Date < as.Date(month[2]))
names(data.2017)
library(dplyr)
library(tools)
library(lubridate)
jan <- filter(data.2017, Event.Clearance.Date >= as.Date(month[1]) & Event.Clearance.Date < as.Date(month[2]))
month.start <- paste0("2017-", m, "-01")
month.end <-paste0("2017-", m, "-31")
Filter.Month <- function(mo) {
filter(data.2017, Event.Clearance.Date >= as.Date(month[mo]) &
Event.Clearance.Date <= as.Date(month.end[mo]))
}
z <- Filter.Month(1)
z <- Filter.Month(2)
month.start <- c(paste0("2017-", m, "-01"), "2017-12-01")
month.start
month.start <- c(paste0("2017-", m, "-01"), "2017-12-01")
month.start
month.end <- c(paste0("2017-", m +1 , "-1"), "2018-01-01")
month.end <- c(paste0("2017-", m +1 , "-01"), "2018-01-01")
Filter.Month <- function(mo) {
filter(data.2017, Event.Clearance.Date >= as.Date(month[mo]) &
Event.Clearance.Date < as.Date(month.end[mo]))
}
z <- Filter.Month(2)
z <- Filter.Month(1)
View(z)
Filter.Month.count <- function(mo) {
filter(data.2017, Event.Clearance.Date >= as.Date(month[mo]) &
Event.Clearance.Date < as.Date(month.end[mo])) %>%
nrows()
}
month.count <- lapply(month.list, Filter.Month)
month.count <- lapply(1:12, Filter.Month)
month.count <- lapply(1, Filter.Month)
Filter.Month.count <- function(mo) {
filter(data.2017, Event.Clearance.Date >= as.Date(month[mo]) &
Event.Clearance.Date < as.Date(month.end[mo])) %>%
nrows()
}
month.count <- lapply(1, Filter.Month)
month.count <- lapply(1, Filter.Month)
#Filtered data for part 1
Filter.Month.count <- function(mo) {
filter(data.2017, Event.Clearance.Date >= as.Date(month[mo]) &
Event.Clearance.Date < as.Date(month.end[mo])) %>%
nrow()
}
month.count <- lapply(1, Filter.Month)
Filter.Month(2)
Filter.Month.count <- function(mo) {
data.month <- filter(data.2017, Event.Clearance.Date >= as.Date(month[mo]) &
Event.Clearance.Date < as.Date(month.end[mo])) %>%
nrow(data.month)
}
Filter.Month(2)
Filter.Month.count <- function(mo) {
data.month <- filter(data.2017, Event.Clearance.Date >= as.Date(month[mo]) &
Event.Clearance.Date < as.Date(month.end[mo]))
return(nrow(data.month))
}
Filter.Month(2)
month.count <- lapply(1, Filter.Month.Count)
Filter.Month.Count <- function(mo) {
data.month <- filter(data.2017, Event.Clearance.Date >= as.Date(month[mo]) &
Event.Clearance.Date < as.Date(month.end[mo]))
return(nrow(data.month))
}
month.count <- lapply(1, Filter.Month.Count)
View(month.count)
month.count <- lapply(1:2, Filter.Month.Count)
View(month.count)
month.count <- lapply(1:2, Filter.Month.Count)
lapply(1:2, Filter.Month.Count)
lapply(1:3, Filter.Month.Count)
lapply(1:4, Filter.Month.Count)
lapply(1:11, Filter.Month.Count)
lapply(1:12, Filter.Month.Count)
as.Date("2018-01-01")
data.month$Event.Clearance.Date[1000] < as.Date("2018-01-01")
data.2017$Event.Clearance.Date[1000] < as.Date("2018-01-01")
sapply(1:11, Filter.Month.Count)
sapply(1:10, Filter.Month.Count)
sapply(1:10, Filter.Month.Count)
Q
sapply(1:10, Filter.Month.Count)
Filter.Month.Count(1)
Filter.Month.Count <- function(mo) {
data.month <- filter(data.2017, Event.Clearance.Date >= as.Date(month[mo]) &
Event.Clearance.Date < as.Date(month.end[mo]))
return(nrow(data.month))
}
Q
Filter.Month.Count <- function(mo) {
data.month <- filter(data.2017, Event.Clearance.Date >= as.Date(month[mo]) &
Event.Clearance.Date < as.Date(month.end[mo]))
return(nrow(data.month))
}
Filter.Month.Count(1)
library(dplyr)
library(tools)
library(lubridate)
#Function for filtering the data from a specific month.
Filter.Month.Count <- function(mo) {
data.month <- filter(data.2017, Event.Clearance.Date >= as.Date(month[mo]) &
Event.Clearance.Date < as.Date(month.end[mo]))
return(nrow(data.month))
}
Filter.Month.Count(1)
setwd("~/Documents/GitHub/AD_4-2017-Seattle-911-Data")
install.packages("lubridate")
install.packages("ggmap")
library(dplyr)
library(tools)
library(lubridate)
data.2017 <-read.csv("./2017_Seattle_911.csv", stringsAsFactors = FALSE)
ChangeCase <- function(x) {
paste0(substring(x,1,1), tolower(substring(x, 2)))
}
data.2017$Event.Clearance.Date <-as.POSIXct(data.2017$Event.Clearance.Date)
data.2017$Event.Clearance.Group <- sapply(data.2017$Event.Clearance.Group, ChangeCase)
m <- 1:11
month.start <- c(paste0("2017-", m, "-01"), "2017-12-01")
month.end <- c(paste0("2017-", m +1 , "-01"), "2018-01-01")
jan <- filter(data.2017, Event.Clearance.Date >= as.Date(month[1]) & Event.Clearance.Date < as.Date(month[2]))
feb <- filter(data.2017, Event.Clearance.Date >= month[2] & Event.Clearance.Date < month[3])
data.2017$Event.Clearance.Group <- sapply(data.2017$Event.Clearance.Group, changeCase)
by.types <- split(data.2017, data.2017$Event.Clearance.Group)
by.types <- by.types[order(sapply(by.types,nrow),decreasing=T)]
jan <- filter(data.2017, Event.Clearance.Date >= month[1] & Event.Clearance.Date < month[2])
feb <- filter(data.2017, Event.Clearance.Date >= month[2] & Event.Clearance.Date < month[3])
#List of month from 1-12
month.list <- 1:12
month.data.names <- c("Month", "#Count")
month.strs <- c("January", "February", "March", "April", "May", "June", "July",
"August", "September", "October", "November", "December")
#Function for filtering the data from a specific month.
Filter.Month.Count <- function(mo) {
data.month <- filter(data.2017, Event.Clearance.Date >= as.Date(month[mo]) &
Event.Clearance.Date < as.Date(month.end[mo]))
return(nrow(data.month))
}
Filter.Month.Count(1)
install.packages("lubridate")
data.2017$Event.Clearance.Date[1]
data.2017$Event.Clearance.Date[1] > as.Date("2017-04-01")
month <- c(paste0("2017-", m, "-01"), "2018-01-01")
jan <- filter(data.2017, Event.Clearance.Date >= as.Date(month[1]) & Event.Clearance.Date < as.Date(month[2]))
